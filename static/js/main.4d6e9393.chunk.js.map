{"version":3,"sources":["components/Products/products.slice.ts","api/fake.api.ts","images/morrowind.png","images/witcher.png","images/dummy.png","store/store.hooks.ts","components/Counter/Counter.tsx","components/Loader/Loader.tsx","components/Products/ProductsList.tsx","components/Products/ProductForm.tsx","components/Summary/Summary.tsx","components/Cart/Cart.tsx","App.tsx","reportWebVitals.ts","store/store.ts","index.tsx"],"names":["ValidationState","fetchProducts","products","Promise","resolve","reject","setTimeout","length","validateProduct","product","name","price","fetchAsyncProducts","createAsyncThunk","a","initialProducts","addAsyncProduct","newProduct","id","qty","img","witcher","dummy","morrowind","initialState","validationState","undefined","errorMessage","productsSlice","createSlice","reducers","removeProduct","state","action","filter","payload","incrementProduct","productIndex","findIndex","decrementProduct","Math","max","extraReducers","builder","addCase","fulfilled","toUpperCase","Fulfilled","addProductState","map","item","random","toString","substr","rejected","Rejected","error","message","pending","Pending","actions","getProductsSelector","getTotalPrice","reduce","acc","next","getTotalAmount","getErrorMessage","isPending","isSuccess","useAppDispatch","useDispatch","useAppSelector","useSelector","Counter","dispatch","className","onClick","handleDecrement","handleIncrement","Loader","ProductsList","isLoading","useEffect","src","alt","ProductForm","successMessage","useState","setProduct","handleChange","target","value","prev","onSubmit","e","preventDefault","htmlFor","style","border","type","placeholder","onChange","Summary","policyChecked","setPolicyChecked","totalPrice","totalAmount","checked","disabled","Cart","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","store","configureStore","reducer","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4d6e9393.chunk.js","sourcesContent":["import {createAsyncThunk, createSlice, PayloadAction} from '@reduxjs/toolkit'\r\nimport {RootState} from \"../../store/store\";\r\nimport {fetchProducts, validateProduct} from \"../../api/fake.api\";\r\nimport morrowind from \"../../images/morrowind.png\"\r\nimport witcher from \"../../images/witcher.png\"\r\nimport dummy from \"../../images/dummy.png\"\r\n\r\nexport interface IProduct {\r\n    id: string,\r\n    name: string,\r\n    price: number,\r\n    qty: number,\r\n    img: string\r\n}\r\n\r\nexport enum ValidationState {\r\n    Fulfilled,\r\n    Pending,\r\n    Rejected\r\n}\r\n\r\nexport interface IProductsSliceState {\r\n    products: IProduct[],\r\n    validationState?: ValidationState,\r\n    addProductState?: ValidationState\r\n    errorMessage?: string,\r\n}\r\n\r\nexport const fetchAsyncProducts = createAsyncThunk(\r\n    'products/fetchAsyncProducts',\r\n    async () => {\r\n        return await fetchProducts(initialProducts)\r\n    }\r\n)\r\n\r\nexport const addAsyncProduct = createAsyncThunk(\r\n    'products/addAsyncProduct',\r\n    async (newProduct: IProduct) => {\r\n        return await validateProduct(newProduct)\r\n    }\r\n)\r\n\r\nconst initialProducts: IProduct[] = [\r\n    {id: '1', name: 'Witcher', price: 50, qty: 1, img: witcher},\r\n    {id: '2', name: 'Heroes', price: 40, qty: 2, img: dummy},\r\n    {id: '3', name: 'Morrowind', price: 60, qty: 3, img: morrowind},\r\n]\r\n\r\nconst initialState: IProductsSliceState = {\r\n    products: [],\r\n    validationState: undefined,\r\n    errorMessage: undefined,\r\n}\r\n\r\nconst generateRandomId = () => '_' + Math.random().toString(36).substr(2, 9);\r\n\r\nconst productsSlice = createSlice({\r\n    name: 'products',\r\n    initialState,\r\n    reducers: {\r\n        removeProduct: (state, action: PayloadAction<IProduct[\"id\"]>) => ({\r\n            ...state,\r\n            products: state.products.filter(product => product.id !== action.payload)\r\n        }),\r\n        incrementProduct: (state, action: PayloadAction<string>) => {\r\n            const productIndex = state.products.findIndex(product => product.id === action.payload)\r\n            if (productIndex !== -1) {\r\n                state.products[productIndex].qty += 1\r\n            }\r\n        },\r\n        decrementProduct: (state, action: PayloadAction<string>) => {\r\n            const productIndex = state.products.findIndex(product => product.id === action.payload)\r\n            if (productIndex !== -1) {\r\n                state.products[productIndex].qty = Math.max(0, state.products[productIndex].qty - 1)\r\n            }\r\n        },\r\n\r\n    },\r\n    extraReducers: builder => {\r\n        builder.addCase(addAsyncProduct.fulfilled, (state, action) => {\r\n            const productIndex = state.products.findIndex(product => product.name.toUpperCase() === action.payload.name.toUpperCase())\r\n            return {\r\n                ...state,\r\n                validationState: ValidationState.Fulfilled,\r\n                addProductState: ValidationState.Fulfilled,\r\n                errorMessage: undefined,\r\n                products: productIndex !== -1\r\n                    ? state.products.map(item => {\r\n                        if (item.name.toUpperCase() === action.payload.name.toUpperCase()) {\r\n                            return {\r\n                                ...item,\r\n                                qty: item.qty + +action.payload.qty\r\n                            }\r\n                        }\r\n                        return item\r\n                    })\r\n                    : [...state.products, {\r\n                        ...action.payload,\r\n                        qty: +action.payload.qty,\r\n                        price: +action.payload.price,\r\n                        id: generateRandomId(),\r\n                        img: dummy\r\n                    }]\r\n            }\r\n        })\r\n        builder.addCase(addAsyncProduct.rejected, (state, action) => ({\r\n            ...state,\r\n            validationState: ValidationState.Rejected,\r\n            addProductState: ValidationState.Rejected,\r\n            errorMessage: action.error.message,\r\n        }))\r\n        builder.addCase(addAsyncProduct.pending, (state, action) => ({\r\n            ...state,\r\n            validationState: ValidationState.Pending,\r\n            addProductState: ValidationState.Pending,\r\n            errorMessage: undefined,\r\n        }))\r\n        builder.addCase(fetchAsyncProducts.fulfilled, (state, action) => ({\r\n            ...state,\r\n            validationState: ValidationState.Fulfilled,\r\n            errorMessage: undefined,\r\n            products: [...action.payload]\r\n        }))\r\n        builder.addCase(fetchAsyncProducts.rejected, (state, action) => ({\r\n            ...state,\r\n            validationState: ValidationState.Rejected,\r\n            errorMessage: action.error.message,\r\n        }))\r\n        builder.addCase(fetchAsyncProducts.pending, (state, action) => ({\r\n            ...state,\r\n            validationState: ValidationState.Pending,\r\n            errorMessage: undefined,\r\n        }))\r\n    }\r\n})\r\n\r\nexport const {removeProduct, incrementProduct, decrementProduct} = productsSlice.actions\r\n\r\nexport const getProductsSelector = (state: RootState) => state.products.products\r\nexport const getTotalPrice = (state: RootState) => state.products.products.reduce((acc, next) => acc += (next.qty * next.price), 0)\r\nexport const getTotalAmount = (state: RootState) => state.products.products.reduce((acc, next) => acc += next.qty, 0)\r\nexport const getErrorMessage = (state: RootState) => state.products.errorMessage\r\nexport const isPending = (state: RootState) => (state.products.validationState === ValidationState.Pending)\r\nexport const isSuccess = (state: RootState) => (state.products.addProductState === ValidationState.Fulfilled)\r\n\r\nexport default productsSlice.reducer","import {IProduct} from \"../components/Products/products.slice\";\n\nexport const fetchProducts = (products: IProduct[]): Promise<IProduct[]> => new Promise((resolve, reject) => {\n    setTimeout(() => {\n        if (!products.length) reject('В корзине нет товаров')\n        resolve(products)\n    }, 2000)\n})\n\nexport const validateProduct = (product: IProduct): Promise<IProduct> => new Promise((resolve, reject) => setTimeout(() => {\n    if (product.name.length === 0) {\n        reject('Вы не указали название')\n    }\n    if (product.price <= 0) {\n        reject('Вы указали некорректную цену')\n    }\n    resolve(product)\n}, 2000))","export default __webpack_public_path__ + \"static/media/morrowind.36a933b4.png\";","export default __webpack_public_path__ + \"static/media/witcher.70797f81.png\";","export default \"data:image/png;base64,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\"","import {TypedUseSelectorHook, useDispatch, useSelector} from \"react-redux\";\r\nimport type {RootState, AppDispatch} from './store'\r\n\r\nexport const useAppDispatch = () => useDispatch<AppDispatch>()\r\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector","import React from 'react';\r\nimport {useAppDispatch} from \"../../store/store.hooks\";\r\nimport {incrementProduct, decrementProduct} from '../Products/products.slice';\r\nimport \"./Counter.scss\"\r\n\r\ninterface ICounter {\r\n    id: string\r\n    qty: number\r\n}\r\n\r\nconst Counter: React.FC<ICounter> = ({id, qty}) => {\r\n\r\n    const dispatch = useAppDispatch()\r\n\r\n    const handleIncrement = (id: string) => () => {\r\n        dispatch(incrementProduct(id))\r\n    }\r\n    const handleDecrement = (id: string) => () => {\r\n        dispatch(decrementProduct(id))\r\n    }\r\n\r\n    return (\r\n        <div className=\"counter\">\r\n            <button className=\"counter__btn\" onClick={handleDecrement(id)}>-</button>\r\n            <div className=\"counter__amount\">{qty}</div>\r\n            <button className=\"counter__btn\" onClick={handleIncrement(id)}>+</button>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Counter;\r\n","import React from 'react';\r\nimport './Loader.scss'\r\n\r\nconst Loader = () => {\r\n    return (\r\n        <div className=\"loader\">Loading...</div>\r\n    );\r\n};\r\n\r\nexport default Loader;\r\n","import React, {useEffect} from 'react'\r\nimport {getProductsSelector, removeProduct, fetchAsyncProducts, isPending} from \"./products.slice\";\r\nimport {useAppDispatch, useAppSelector} from \"../../store/store.hooks\";\r\nimport Counter from \"../Counter/Counter\";\r\nimport Loader from \"../Loader/Loader\";\r\nimport \"./ProductsList.scss\"\r\n\r\ninterface ProductsListProps {\r\n\r\n}\r\n\r\nconst ProductsList: React.FC<ProductsListProps> = () => {\r\n\r\n    const dispatch = useAppDispatch()\r\n\r\n    const products = useAppSelector(getProductsSelector)\r\n    const isLoading = useAppSelector(isPending)\r\n\r\n    const handleClick = (id: string) => () => {\r\n        dispatch(removeProduct(id))\r\n    }\r\n\r\n    useEffect(() => {\r\n        dispatch(fetchAsyncProducts())\r\n    }, [dispatch]);\r\n\r\n\r\n    return (\r\n        <div className=\"products-list\">\r\n            {isLoading ? <Loader/> : products.map(product => <div key={product.id} className=\"products-list__item\"\r\n                                                                  data-testid=\"product-element\">\r\n                <div className=\"products-list__first-half\">\r\n                    <img className=\"products-list__img products-list__img--bg--triangle\" src={product.img}\r\n                         alt={product.name}/>\r\n                    <div className=\"products-list__name\" data-testid=\"product-name\">{product.name}</div>\r\n                </div>\r\n                <div className=\"products-list__second-half\">\r\n                    <div className=\"products-list__price\">{product.price} ₽</div>\r\n                    <Counter qty={product.qty} id={product.id}/>\r\n                    <div className=\"products-list__delete\">\r\n                        <button className=\"products-list__btn\" onClick={handleClick(product.id)}\r\n                                data-testid=\"removeItem\">&#10006;\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>)\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProductsList","import React, {useState} from 'react';\r\nimport {IProduct, addAsyncProduct, getErrorMessage, isSuccess} from \"./products.slice\";\r\nimport {useAppDispatch} from \"../../store/store.hooks\";\r\nimport {useSelector} from \"react-redux\";\r\nimport \"./ProductForm.scss\"\r\n\r\nconst ProductForm: React.FC = () => {\r\n\r\n    const dispatch = useAppDispatch()\r\n    const errorMessage = useSelector(getErrorMessage)\r\n    const successMessage = useSelector(isSuccess)\r\n\r\n    const [{id, name, price, qty, img}, setProduct] = useState<IProduct>({\r\n        id: '',\r\n        name: '',\r\n        price: 0,\r\n        qty: 1,\r\n        img: ''\r\n    })\r\n\r\n    const handleChange = ({target: {name, value}}: React.ChangeEvent<HTMLInputElement>) => setProduct(prev => {\r\n        (prev as any)[name] = value\r\n        const newValue = {...prev}\r\n        return newValue\r\n    })\r\n\r\n    const handleSubmit = (e: React.FormEvent) => {\r\n        e.preventDefault()\r\n        dispatch(addAsyncProduct({id, name, price, qty, img}))\r\n    }\r\n    return (\r\n        <div className=\"product-form\">\r\n            <h2 className=\"product-form__title\">Добавить игру в корзину</h2>\r\n            {errorMessage && <div className=\"product-form__alert product-form__alert--error\">{errorMessage}</div>}\r\n            {successMessage &&\r\n            <div className=\"product-form__alert product-form__alert--success\">Товар успешно добавлен в корзину!</div>}\r\n            <form className=\"product-form__form\" onSubmit={handleSubmit}>\r\n\r\n                <label className=\"product-form__label\" htmlFor=\"name\">Название:\r\n                    <input className=\"product-form__input input\"\r\n                           style={{border: errorMessage ? '2px solid #f00' : '2px solid #000'}} id=\"name\" type=\"text\"\r\n                           placeholder=\"Название\" name=\"name\" value={name} onChange={handleChange}/>\r\n                </label>\r\n\r\n                <label className=\"product-form__label\" htmlFor=\"price\">Стоимость:\r\n                    <input className=\"product-form__input input\"\r\n                           style={{border: errorMessage ? '2px solid #f00' : '2px solid #000'}} id=\"price\" type=\"number\"\r\n                           placeholder=\"Стоимость\" name=\"price\" value={price} onChange={handleChange}/>\r\n                </label>\r\n\r\n                <label className=\"product-form__label\" htmlFor=\"qty\">Количество:\r\n                    <input className=\"product-form__input input\"\r\n                           style={{border: errorMessage ? '2px solid #f00' : '2px solid #000'}} id=\"qty\" type=\"number\"\r\n                           placeholder=\"Количество\" name=\"qty\" value={qty} onChange={handleChange}/>\r\n                </label>\r\n                <button className=\"product-form__btn btn\" type=\"submit\">Добавить игру</button>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ProductForm;\r\n","import React, {useState} from 'react';\r\nimport {useAppSelector} from \"../../store/store.hooks\";\r\nimport {getTotalAmount, getTotalPrice} from \"../Products/products.slice\";\r\nimport \"./Summary.scss\"\r\n\r\nconst Summary = () => {\r\n\r\n    const [policyChecked, setPolicyChecked] = useState(false)\r\n\r\n    const totalPrice = useAppSelector(getTotalPrice)\r\n    const totalAmount = useAppSelector(getTotalAmount)\r\n\r\n    const handlePolicyCheck = () => {\r\n        setPolicyChecked(!policyChecked)\r\n    }\r\n\r\n    return (\r\n        <div className=\"summary\">\r\n            <div className=\"summary__total-price\"><span>Сумма: </span> <span>{totalPrice} ₽</span></div>\r\n            <div className=\"summary__total-count\"><span className=\"summary__text summary__text--mobile--hidden\">Общее кол-во: </span>\r\n                <span className=\"summary__counter\">{totalAmount}</span></div>\r\n            <label htmlFor=\"policy\">\r\n                <input id=\"policy\" className=\"summary__policy-check\" type=\"checkbox\" onChange={handlePolicyCheck}\r\n                       checked={policyChecked}/>\r\n                Я согласен с условиями.\r\n            </label>\r\n\r\n            <button className=\"summary__checkout-btn btn\" disabled={!policyChecked}>Оформить заказ</button>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Summary;\r\n","import React from 'react';\r\nimport ProductsList from \"../Products/ProductsList\";\r\nimport ProductForm from \"../Products/ProductForm\";\r\nimport Summary from \"../Summary/Summary\";\r\nimport \"./Cart.scss\"\r\n\r\nconst Cart: React.FC = () => {\r\n\r\n    return (\r\n        <div className=\"cart\">\r\n            <div className=\"cart__header\">Корзина</div>\r\n            <div className=\"cart__body\">\r\n                <ProductsList/>\r\n            </div>\r\n            <div className=\"cart__footer\">\r\n                <ProductForm/>\r\n                <Summary/>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Cart;\r\n","import React from 'react';\nimport './App.scss';\nimport Cart from \"./components/Cart/Cart\";\n\nfunction App() {\n    return (\n\n        <div className=\"App\">\n            <Cart/>\n        </div>\n    );\n}\n\nexport default App;\n","import {ReportHandler} from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n    if (onPerfEntry && onPerfEntry instanceof Function) {\n        import('web-vitals').then(({getCLS, getFID, getFCP, getLCP, getTTFB}) => {\n            getCLS(onPerfEntry);\n            getFID(onPerfEntry);\n            getFCP(onPerfEntry);\n            getLCP(onPerfEntry);\n            getTTFB(onPerfEntry);\n        });\n    }\n};\n\nexport default reportWebVitals;\n","import {configureStore} from \"@reduxjs/toolkit\";\r\nimport products from '../components/Products/products.slice'\r\n\r\nconst store = configureStore({\r\n    reducer: {\r\n        products\r\n    }\r\n})\r\n\r\nexport type RootState = ReturnType<typeof store.getState>\r\nexport type AppDispatch = typeof store.dispatch\r\n\r\nexport default store","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport store from \"./store/store\";\nimport {Provider} from \"react-redux\";\n\nReactDOM.render(\n    <React.StrictMode>\n        <Provider store={store}>\n            <App/>\n        </Provider>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}