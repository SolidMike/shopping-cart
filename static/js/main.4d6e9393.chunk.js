(this["webpackJsonpshopping-cart"]=this["webpackJsonpshopping-cart"]||[]).push([[0],{19:function(e,t,c){},20:function(e,t,c){},28:function(e,t,c){},30:function(e,t,c){},31:function(e,t,c){},32:function(e,t,c){},33:function(e,t,c){},34:function(e,t,c){},35:function(e,t,c){"use strict";c.r(t);var r,n=c(1),a=c.n(n),s=c(7),i=c.n(s),d=(c(19),c(20),c(13)),o=c(2),u=c(6),l=c.n(u),p=c(11),j=c(4),m=function(e){return new Promise((function(t,c){setTimeout((function(){e.length||c("\u0412 \u043a\u043e\u0440\u0437\u0438\u043d\u0435 \u043d\u0435\u0442 \u0442\u043e\u0432\u0430\u0440\u043e\u0432"),t(e)}),2e3)}))},b=function(e){return new Promise((function(t,c){return setTimeout((function(){0===e.name.length&&c("\u0412\u044b \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043b\u0438 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),e.price<=0&&c("\u0412\u044b \u0443\u043a\u0430\u0437\u0430\u043b\u0438 \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u0443\u044e \u0446\u0435\u043d\u0443"),t(e)}),2e3)}))},f=c.p+"static/media/morrowind.36a933b4.png",O=c.p+"static/media/witcher.70797f81.png",h="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAMAAAAL34HQAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAABaUExURXV4fKiss6ersnR3e4qNkn6ChpSYnpygp6iss6OnrZicop6iqKiss5KVm6ersqiss6iss6ersqiss6ersqersnV4fHZ5fXZ5fXV4fHZ5fXl8gHV4fHV4fEdwTPbsMYMAAAAedFJOU///////////7P8IFdopO8OSbahUffNqhuaqUNXEAHMsbUkAAAgASURBVHjaxZzZlqQgDIYxbuWupbVXv/9rDq6FCpKAOlzMma4z0/31nxBCCLA/mxEneV2V1yJNLwCOA3BJ0+JaNnWexFbfmBn/zyTnQBzHkQyOV5SVBRszReJES5Yl3CW9crSzsJK8KTqbLalkwl2Ksk6Ox4pbJoc0IC3JmtGwkorKNGpWZYdhZU0qNRRqcMniI7CyMm1DwNpGaMkIYIwCZTs42K5YSbMDVA+W7YYV18VoMElcAJq7pVWyD1Z+BQECF65UXteuUEW+A1ZSWdhP/ktcmsQWK7tKfxoYz8duaAVjGq9KJeYb3Qm2jKtx/So2x0rKKUGAJRbMfL3/iAJWJqZYrQFBKgd0UKuP9jPkBlZe2MepLdK0NsGq00kVkIcBMHJ3lIMpsaqLc/iAJqZhxZZUgBjtPypjElZDNQxEYRh0IwyjWfzof/7IsWRWcEmxYiJVFHi+z9rhtn/4nhdGEgGly6mcS4pVUagg9HzmdjzDcPlXvheCMCGGsCbK2M8lBRez9HYOxUSkCa0Fmy1WMJu0v6+kfi/BqglUCqheMt+LZo40+NbS7aHCYOX4jAECXwE1Khaq18xxRvD4VeuxMnxsD322RdWN4KePJICM8T7XYSXXnaQaBzckTIHh52vgiB8VyTZW3GDXEvAYhopzgWDC8W/LnOgab2Jxd8dRRR7DDm9aUqdEbVJrirDVFlaWItOTyEdTMT/ALNu5GivGOhaFirm/0LqVfiVKrApQeQoQLDgqFvZWg/VGaPyoUWFlyIiF9vZFpJiFUQdg/snMjGxuQpRjkbXqTBnMiGZM/UeiGQWsGnAbmICZjUCTTouz8YeVFMjEynfNsPxIs+NOMwlWJdlnyR2L7SKXbJO2xur9HbTeFRpTuX6EDl4TVuNgtOJiuew4uaY1iCGDw5AqWYjF5fLQsZ5NYiFDloVYeitOGTSjRdLQt1Frygq1cg1YFXIxDJjV0C/apYjVxSxEzcXKhiisIXaxMcA7DugLVcahFOvzjlP9sLqEBhBYoZ0NMVj9ythhZZdzXAuD1Ts9ozi8Y+laGKze6VusuFhsdP8rVpoMWPkFWT2DM7CgHrCaRQ1DWW48BauzIptsiNqF2WExFFZrRTabh5oytq1aDLM16+Yix6rxpZBTsNo9EMcqt2t2O85EFqKweNbFphx+sB8cF04RGcToXOznWojsNLLEinC+knOsWqz6b2CB/VLtI2uyFcfC5aUDr5Vz4cJWF7nY3xU/EaPAszJigPxBRcKSfYuSO0zENhdkWXpajG8LlrgzqpzlFyFkwW5FLWVhEDVqVoODDKehNRVDRginYc26Tn4cFta7rqzEz8MdsHBzEQqGjw87+BZWrYIVzvp0SBFQffcsrHSJdWT+gHf5C0sd7Ey03Y7h12oHGKGDxnoqohdFh11UdXLJ72DtXIEZ1hGVb5NFcY4FmqTZ1oo+mGCBLmm2tSLahg7C5WG3uRjugAWScrhV0uzibQhCOF00RYEks4fgHBteWCFdZ4Qj0hmahVxdLJ0WOFj7iPBRKl2qhQMsZ7FLsyg148XiS3W53U809nCZHFLPuzU8oGA1mj6n1ZbWKHj5PjaP73dky6RZ0X1lmXb5Y/MUcjTCFkO+YV1FfoOYis4cfluMjNyES0+73HmLxq+ysIxIw2zkGzLE9hWsV8aA9ovz7atisw9qLHrs8kMaFt/sS0sjILZ9rba1ZCv6xE7DUiwkqSRb5TrBwTbsCkmSk5UhuM/7dYznoku1YVd2k9S/Abb3aAF5HtI8PpmVdBfxSblRo7ZCEMXqS7qEAriRXGSxhgI4PaDSYgRVrOG4QNK1NSvegN1mgyzWcLiyPk4EVdJM35uRl8PpKGo8uHNg0YoxpoFW5yxUE/4O7lYh4oelrkqEOPcKJBnydtI8HXOurLiVndLyLo9+86BUH6FjsFBpfUCmEo7QV3NxIzmlLdlkzxIbDpbLNay6tE2x6GpVy2YWbBpoiwXbGaCk9YfmoCQsAPViKyTNs9afvyQ9Rq3QyOHVbWUwW31O861yswlPTJrVlbj9sVZNeOuUHjRYECDilh+QlsRy2bI48y5N0tzF+AC5ufZld350YontsIu7arBxsNFd7cHWRLhkIWqKQylvHsYlzUCA6sm4ZBhjSpuHkfd7WutR94nza1JKsSp5Y7r+DI8slCgZ00h2TXRt/PIp2B7suzY13U3JVG38vyttINkjWgiFk6zRXRGBWUm3C2Bh4FsJtSEZiAmN6kLNOmnumdguTOqQkeaa60diFtgx7WA8ecgA+SyU3SFrRDNGO+u0kEwgK7cvaw3uxf911Ml05OjJOmvqrraNiWq35LkuO3i0ZHwG6C8CdtcmTSK5echgzzfukql3FlQ3bnfcldz3jZ057tgLzPczuR4x+hb6iVwP/HXvv/g0rgfhcvxpet0etKcEuN8/z5iDxIcXWq7P0VTPu8mjHtn3WKrP2/AJlNeRVN/M9MGY+HE7ztmNH4w50ME+d4vndTpDHiHYS/fclfbppvj+2X8GWj/ddIBgWqmwr5W9dwwV3zvmgTfkI2p7WfL5wL0giH5y7vHZAwr7eiDhgT5bMDwU8TnDu4WPfQhQ5Mcf3y+jxOL2utNepSQ/lcklI8aL2/eRUR8+NXhYtCVDa/b8Pt4nPCzacbVkDz3a8/O6Z2YPxFo8Wpu9H6/vU2rRGyd6vLPE+JubY41s98fr9f08nzc+ns/P9/V63DmR3RO//wAoSVkAq0CSOQAAAABJRU5ErkJggg==";!function(e){e[e.Fulfilled=0]="Fulfilled",e[e.Pending=1]="Pending",e[e.Rejected=2]="Rejected"}(r||(r={}));var x=Object(j.b)("products/fetchAsyncProducts",Object(p.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(y);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))),g=Object(j.b)("products/addAsyncProduct",function(){var e=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),y=[{id:"1",name:"Witcher",price:50,qty:1,img:O},{id:"2",name:"Heroes",price:40,qty:2,img:h},{id:"3",name:"Morrowind",price:60,qty:3,img:f}],v={products:[],validationState:void 0,errorMessage:void 0},N=Object(j.c)({name:"products",initialState:v,reducers:{removeProduct:function(e,t){return Object(o.a)(Object(o.a)({},e),{},{products:e.products.filter((function(e){return e.id!==t.payload}))})},incrementProduct:function(e,t){var c=e.products.findIndex((function(e){return e.id===t.payload}));-1!==c&&(e.products[c].qty+=1)},decrementProduct:function(e,t){var c=e.products.findIndex((function(e){return e.id===t.payload}));-1!==c&&(e.products[c].qty=Math.max(0,e.products[c].qty-1))}},extraReducers:function(e){e.addCase(g.fulfilled,(function(e,t){var c=e.products.findIndex((function(e){return e.name.toUpperCase()===t.payload.name.toUpperCase()}));return Object(o.a)(Object(o.a)({},e),{},{validationState:r.Fulfilled,addProductState:r.Fulfilled,errorMessage:void 0,products:-1!==c?e.products.map((function(e){return e.name.toUpperCase()===t.payload.name.toUpperCase()?Object(o.a)(Object(o.a)({},e),{},{qty:e.qty+ +t.payload.qty}):e})):[].concat(Object(d.a)(e.products),[Object(o.a)(Object(o.a)({},t.payload),{},{qty:+t.payload.qty,price:+t.payload.price,id:"_"+Math.random().toString(36).substr(2,9),img:h})])})})),e.addCase(g.rejected,(function(e,t){return Object(o.a)(Object(o.a)({},e),{},{validationState:r.Rejected,addProductState:r.Rejected,errorMessage:t.error.message})})),e.addCase(g.pending,(function(e,t){return Object(o.a)(Object(o.a)({},e),{},{validationState:r.Pending,addProductState:r.Pending,errorMessage:void 0})})),e.addCase(x.fulfilled,(function(e,t){return Object(o.a)(Object(o.a)({},e),{},{validationState:r.Fulfilled,errorMessage:void 0,products:Object(d.a)(t.payload)})})),e.addCase(x.rejected,(function(e,t){return Object(o.a)(Object(o.a)({},e),{},{validationState:r.Rejected,errorMessage:t.error.message})})),e.addCase(x.pending,(function(e,t){return Object(o.a)(Object(o.a)({},e),{},{validationState:r.Pending,errorMessage:void 0})}))}}),A=N.actions,q=A.removeProduct,C=A.incrementProduct,F=A.decrementProduct,_=function(e){return e.products.products},V=function(e){return e.products.products.reduce((function(e,t){return e+t.qty*t.price}),0)},W=function(e){return e.products.products.reduce((function(e,t){return e+t.qty}),0)},S=function(e){return e.products.errorMessage},P=function(e){return e.products.validationState===r.Pending},k=function(e){return e.products.addProductState===r.Fulfilled},z=N.reducer,R=c(3),M=function(){return Object(R.b)()},Y=R.c,E=(c(28),c(0)),L=function(e){var t=e.id,c=e.qty,r=M();return Object(E.jsxs)("div",{className:"counter",children:[Object(E.jsx)("button",{className:"counter__btn",onClick:function(e){return function(){r(F(e))}}(t),children:"-"}),Object(E.jsx)("div",{className:"counter__amount",children:c}),Object(E.jsx)("button",{className:"counter__btn",onClick:function(e){return function(){r(C(e))}}(t),children:"+"})]})},U=(c(30),function(){return Object(E.jsx)("div",{className:"loader",children:"Loading..."})}),B=(c(31),function(){var e=M(),t=Y(_),c=Y(P);return Object(n.useEffect)((function(){e(x())}),[e]),Object(E.jsx)("div",{className:"products-list",children:c?Object(E.jsx)(U,{}):t.map((function(t){return Object(E.jsxs)("div",{className:"products-list__item","data-testid":"product-element",children:[Object(E.jsxs)("div",{className:"products-list__first-half",children:[Object(E.jsx)("img",{className:"products-list__img products-list__img--bg--triangle",src:t.img,alt:t.name}),Object(E.jsx)("div",{className:"products-list__name","data-testid":"product-name",children:t.name})]}),Object(E.jsxs)("div",{className:"products-list__second-half",children:[Object(E.jsxs)("div",{className:"products-list__price",children:[t.price," \u20bd"]}),Object(E.jsx)(L,{qty:t.qty,id:t.id}),Object(E.jsx)("div",{className:"products-list__delete",children:Object(E.jsx)("button",{className:"products-list__btn",onClick:(c=t.id,function(){e(q(c))}),"data-testid":"removeItem",children:"\u2716"})})]})]},t.id);var c}))})}),Z=c(9),D=(c(32),function(){var e=M(),t=Object(R.c)(S),c=Object(R.c)(k),r=Object(n.useState)({id:"",name:"",price:0,qty:1,img:""}),a=Object(Z.a)(r,2),s=a[0],i=s.id,d=s.name,u=s.price,l=s.qty,p=s.img,j=a[1],m=function(e){var t=e.target,c=t.name,r=t.value;return j((function(e){return e[c]=r,Object(o.a)({},e)}))};return Object(E.jsxs)("div",{className:"product-form",children:[Object(E.jsx)("h2",{className:"product-form__title",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0438\u0433\u0440\u0443 \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"}),t&&Object(E.jsx)("div",{className:"product-form__alert product-form__alert--error",children:t}),c&&Object(E.jsx)("div",{className:"product-form__alert product-form__alert--success",children:"\u0422\u043e\u0432\u0430\u0440 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443!"}),Object(E.jsxs)("form",{className:"product-form__form",onSubmit:function(t){t.preventDefault(),e(g({id:i,name:d,price:u,qty:l,img:p}))},children:[Object(E.jsxs)("label",{className:"product-form__label",htmlFor:"name",children:["\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435:",Object(E.jsx)("input",{className:"product-form__input input",style:{border:t?"2px solid #f00":"2px solid #000"},id:"name",type:"text",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",name:"name",value:d,onChange:m})]}),Object(E.jsxs)("label",{className:"product-form__label",htmlFor:"price",children:["\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c:",Object(E.jsx)("input",{className:"product-form__input input",style:{border:t?"2px solid #f00":"2px solid #000"},id:"price",type:"number",placeholder:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c",name:"price",value:u,onChange:m})]}),Object(E.jsxs)("label",{className:"product-form__label",htmlFor:"qty",children:["\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e:",Object(E.jsx)("input",{className:"product-form__input input",style:{border:t?"2px solid #f00":"2px solid #000"},id:"qty",type:"number",placeholder:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e",name:"qty",value:l,onChange:m})]}),Object(E.jsx)("button",{className:"product-form__btn btn",type:"submit",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0438\u0433\u0440\u0443"})]})]})}),G=(c(33),function(){var e=Object(n.useState)(!1),t=Object(Z.a)(e,2),c=t[0],r=t[1],a=Y(V),s=Y(W);return Object(E.jsxs)("div",{className:"summary",children:[Object(E.jsxs)("div",{className:"summary__total-price",children:[Object(E.jsx)("span",{children:"\u0421\u0443\u043c\u043c\u0430: "})," ",Object(E.jsxs)("span",{children:[a," \u20bd"]})]}),Object(E.jsxs)("div",{className:"summary__total-count",children:[Object(E.jsx)("span",{className:"summary__text summary__text--mobile--hidden",children:"\u041e\u0431\u0449\u0435\u0435 \u043a\u043e\u043b-\u0432\u043e: "}),Object(E.jsx)("span",{className:"summary__counter",children:s})]}),Object(E.jsxs)("label",{htmlFor:"policy",children:[Object(E.jsx)("input",{id:"policy",className:"summary__policy-check",type:"checkbox",onChange:function(){r(!c)},checked:c}),"\u042f \u0441\u043e\u0433\u043b\u0430\u0441\u0435\u043d \u0441 \u0443\u0441\u043b\u043e\u0432\u0438\u044f\u043c\u0438."]}),Object(E.jsx)("button",{className:"summary__checkout-btn btn",disabled:!c,children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"})]})}),H=(c(34),function(){return Object(E.jsxs)("div",{className:"cart",children:[Object(E.jsx)("div",{className:"cart__header",children:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430"}),Object(E.jsx)("div",{className:"cart__body",children:Object(E.jsx)(B,{})}),Object(E.jsxs)("div",{className:"cart__footer",children:[Object(E.jsx)(D,{}),Object(E.jsx)(G,{})]})]})});var I=function(){return Object(E.jsx)("div",{className:"App",children:Object(E.jsx)(H,{})})},w=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,36)).then((function(t){var c=t.getCLS,r=t.getFID,n=t.getFCP,a=t.getLCP,s=t.getTTFB;c(e),r(e),n(e),a(e),s(e)}))},J=Object(j.a)({reducer:{products:z}});i.a.render(Object(E.jsx)(a.a.StrictMode,{children:Object(E.jsx)(R.a,{store:J,children:Object(E.jsx)(I,{})})}),document.getElementById("root")),w()}},[[35,1,2]]]);
//# sourceMappingURL=main.4d6e9393.chunk.js.map